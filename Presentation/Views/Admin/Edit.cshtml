@model Application.DTOs.UserResponse
@{
	ViewData["Title"] = "Edit User";
	Layout = "_DashboardLayout";
}
<div class="container">
	<h3>Edit User</h3>
	<form asp-action="Edit" asp-controller="Admin" method="post">
		<input type="hidden" asp-for="Id"/>
		@if (!string.IsNullOrEmpty(Model.ProfilePhotoUrl))
		{
			<img src="@Model.ProfilePhotoUrl" class="img-thumbnail" style="max-height:200px" onerror="this.src='/images/default-profile.jpg';" />
		}
		else
		{
			<img src="/images/default-profile.jpg" class="img-thumbnail" style="max-height:200px" />
		}
		<div class="form-group">
			<label asp-for="FirstName">FirstName</label>
			<input asp-for="FirstName" class="form-control" required/>
		</div>
		<div class="form-group">
			<label asp-for="LastName">LastName</label>
			<input asp-for="LastName" class="form-control" required />
		</div>
		<div class="form-group">
			<label asp-for="FullName"></label>
			<input asp-for="FullName" class="form-control" readonly/>
		</div>
		<div class="form-group">
			<label asp-for="Gender">Gender</label>
			<select asp-for="Gender" class="form-control" required>
				<option value="">Select</option>
				<option value="Male" selected="@(Model.Gender == "Male")">Male</option>
				<option value="Female" selected="@(Model.Gender == "Female")">Female</option>
				<option value="Other" selected="@(Model.Gender == "Other")">Other</option>
			</select>
		</div>
		<div class="form-group">
			<label asp-for="Address">Address</label>
			<input asp-for="Address" class="form-control" required />
		</div>
		<div class="form-group">
			<label asp-for="PhoneNumber">PhoneNumber</label>
			<input asp-for="PhoneNumber" class="form-control" required />
		</div>
		<div class="form-group">
			<label asp-for="Email">Email</label>
			<input asp-for="Email" class="form-control" readonly/>
		</div>

		<button type="submit" class="btn btn-primary mt-3">Save Changes</button>
		<a asp-action="AllUsers" asp-controller="Admin" class="btn btn-secondary mt-3">Cancel</a>
	</form>

	@* Display validation errors, if any *@
	@if(!ViewData.ModelState.IsValid){
		<div class="text-danger">
			<ul>
				@foreach(var error in ViewData.ModelState.Values.SelectMany(V => V.Errors))
				{
					<li>@error.ErrorMessage</li>
				}
			</ul>
		</div>
	}
</div>

